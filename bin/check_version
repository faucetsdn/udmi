#!/bin/bash -e

ROOT_DIR=$(dirname $0)/..

branch=master
origin=`git remote -v | fgrep :faucetsdn/udmi.git | awk '{print $1}' | uniq`
echo Fetching remote repo $origin...

git fetch $origin $branch
upstream_ver=`git describe $origin/$branch --abbrev=0`
current_ver=`git describe --abbrev=0`

echo Local UDMI version $current_ver, upstream is $upstream_ver

if [[ $current_ver != $upstream_ver ]]; then
    echo
    echo Local UDMI version $current_ver does not match upstream version $upstream_ver.
    echo Please consider updating as needed.
    echo
fi
